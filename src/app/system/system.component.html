<ng-container *ngIf="systemState$ | async as systemState; else loading">
    <div >
        <p> System: {{ systemState.id }} </p>
        <p> Time:   {{ systemState.time }} </p>
        <div class="valueChainsAndOutputBasket">
            <div class="valueChains">
                <div *ngFor="let vc of systemState.valueChains">
                    <app-value-chain [vc]="vc"></app-value-chain>
                </div>
            </div>
            <div >
                <app-output-basket [ob]="systemState.outputBasket"></app-output-basket>
            </div>

        </div>
    </div>
    <app-workers-stats [wosStats]="systemState.workersState" ></app-workers-stats>

</ng-container>

<ng-template #loading>
    <div class="ui active dimmer">
        <div class="ui large text loader">System state loading ... </div>
    </div>
</ng-template>
<br/>
<br/>

<button type="button" class="ui mini button"
  (click)="nextIterationState()">
  Next Iteration
</button>
<br/>
<br/>
<p>Window width = {{ innerCellSize.width}} </p>
<p>Window heigth = {{ innerCellSize.heigth}} </p>
