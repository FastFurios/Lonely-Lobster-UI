<p>editor works!</p>
<form class="ui form" [formGroup]="system" (ngSubmit)="submitForm()">

  <label>System</label>
  <input formControlName="id">
 
  <label>Value Chain</label>
  <div class="fields" formArrayName="valueChains">
      <div class="sixteen wide field" *ngFor="let valueChain of valueChains.controls; let valueChainIndex = index" [formGroup]="valueChain">
        VC: 
        <input placeholder="Value chain" formControlName="id">
        <input placeholder="value add"   formControlName="valueAdd">

        <div class="sixteen wide field" *ngFor="let processStep of processSteps(valueChain).controls; let processStepIndex = index" [formGroup]="processStep">
            __PS:
            <input placeholder="process step"  formControlName="id">
            <input placeholder="norm effort"   formControlName="normEffort">
        </div>
        <button type="button" class="ui mini button" (click)="addProcessStep(processSteps(valueChain))"> + Process Step </button>
      </div>
      <button type="button" class="ui mini button" (click)="addValueChain()"> + Value Chain</button>
  </div>

  <label>Workers</label>
  <div class="fields" formArrayName="workers">
    <div class="sixteen wide field" *ngFor="let worker of workers.controls; let workerIndex = index" [formGroup]="worker">
        <input placeholder="Name" formControlName="id">
        <div class="sixteen wide field" *ngFor="let workerAssignment of workerAssignments(worker).controls; let workerAssignmentIndex = index">
                __Assignment:
                <select #valueChainsProcessSteps id="category" name="category" (ngModel)="selectedVcPs" [ngModelOptions]="{standalone: true}" (change)="selectedWorkerAssignmentHandler(valueChainsProcessSteps.value)">
                    <option default>Pick a Process Step</option>
                    <option *ngFor="let vcPs of valueChainsWithProcessSteps" [value]="vcPs.entryId">{{ vcPs.entryId + ": " + vcPs.processStepWithItsValueChain.valueChainId + '.' + vcPs.processStepWithItsValueChain.processStepId }}</option>
<!--
                    <option *ngFor="let vcPs of valueChainsWithProcessSteps" [value]="{ worker: worker.get('id')?.value, entryId: vcPs.entryId}">{{ vcPs.entryId + ": " + vcPs.processStepWithItsValueChain.valueChainId + '.' + vcPs.processStepWithItsValueChain.processStepId }}</option>
-->
                  </select> 
<!--
        <input type="submit"> 

https://stackoverflow.com/questions/68329468/angular-12-select-dropdown-option-based-on-the-value-in-template
-->




        </div>
        <button type="button" class="ui mini button" (click)="addWorkerAssignments(workerAssignments(worker))"> + Assignment </button>
    </div>
    <button type="button" class="ui mini button" (click)="addWorker()"> + Worker</button>
  </div>

  
  <button class="ui button" type="submit"
    [disabled]="system.invalid">
    Speichern
  </button>
</form>
